(()=>{var e={};e.id=151,e.ids=[151],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},5240:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>g,routeModule:()=>l,serverHooks:()=>h,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>m});var s={};t.r(s),t.d(s,{GET:()=>p,dynamic:()=>c});var a=t(2706),i=t(8203),n=t(5994),o=t(8789);let c="force-static",u=[{id:"1",title:"Wireless Earbuds",description:"Bluetooth 5.0 Wireless Earbuds with Noise Cancellation",price:49.99,currency:"USD",platform:"Amazon",url:"https://amazon.com/wireless-earbuds",imageUrl:"https://example.com/images/earbuds.jpg",rating:4.5,ratingCount:1250,availability:"In Stock",shippingCost:0,shippingTime:"2 days",seller:"TechGadgets",sellerRating:4.7,condition:"New",timestamp:new Date().toISOString(),reliability:.95},{id:"2",title:"Smart Watch",description:"Fitness Tracker Smart Watch with Heart Rate Monitor",price:89.99,currency:"USD",platform:"eBay",url:"https://ebay.com/smart-watch",imageUrl:"https://example.com/images/smartwatch.jpg",rating:4.2,ratingCount:850,availability:"In Stock",shippingCost:4.99,shippingTime:"3-5 days",seller:"WearableTech",sellerRating:4.5,condition:"New",timestamp:new Date().toISOString(),reliability:.88}];async function p(e){try{let r=await (0,o.ek)(e);if(r)return r;let t=(0,o.UA)(e),s=t.query||"",a=t.platform||"all",i=t.minPrice?parseFloat(t.minPrice):void 0,n=t.maxPrice?parseFloat(t.maxPrice):void 0,c=t.sortBy||"price",p=t.sortOrder||"asc",l=[...u];return s&&(l=l.filter(e=>e.title.toLowerCase().includes(s.toLowerCase())||e.description.toLowerCase().includes(s.toLowerCase()))),"all"!==a&&(l=l.filter(e=>e.platform===a)),void 0!==i&&(l=l.filter(e=>e.price>=i)),void 0!==n&&(l=l.filter(e=>e.price<=n)),l.sort((e,r)=>{let t=0;switch(c){case"price":default:t=e.price-r.price;break;case"rating":t=e.rating-r.rating;break;case"reliability":t=e.reliability-r.reliability}return"asc"===p?t:-t}),(0,o.aI)({success:!0,count:l.length,results:l})}catch(e){return(0,o.hS)(e)}}let l=new a.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/v1/products/search/route",pathname:"/api/v1/products/search",filename:"route",bundlePath:"app/api/v1/products/search/route"},resolvedPagePath:"/home/ubuntu/sellrogan/src/app/api/v1/products/search/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:d,workUnitAsyncStorage:m,serverHooks:h}=l;function g(){return(0,n.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:m})}},6487:()=>{},8335:()=>{},8789:(e,r,t)=>{"use strict";t.d(r,{H_:()=>c,UA:()=>p,aI:()=>u,ek:()=>n,hS:()=>i,u3:()=>o});var s=t(9187);class a extends Error{constructor(e,r,t=500){super(e),this.type=r,this.statusCode=t,this.name="ApiError"}}function i(e){if(console.error("API Error:",e),e instanceof a)return s.NextResponse.json({success:!1,error:e.message,errorType:e.type},{status:e.statusCode});let r=e instanceof Error?e.message:"An unknown error occurred";return s.NextResponse.json({success:!1,error:r,errorType:"SERVER_ERROR"},{status:500})}function n(e){return(e.headers.get("x-api-key")||"").length>0}function o(e){let r=new URL(e.url),t=parseInt(r.searchParams.get("page")||"1",10),s=parseInt(r.searchParams.get("limit")||"10",10);return{page:isNaN(t)||t<1?1:t,limit:isNaN(s)||s<1||s>100?10:s}}function c(e,r,t){return{page:e,limit:r,total:t,totalPages:Math.ceil(t/r)}}function u(e,r){return s.NextResponse.json({success:!0,data:e,...r?{meta:r}:{}})}function p(e){let r=new URL(e.url),t={};return r.searchParams.forEach((e,r)=>{t[r]=e}),t}}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,452],()=>t(5240));module.exports=s})();