(()=>{var e={};e.id=448,e.ids=[448],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},525:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>v,routeModule:()=>c,serverHooks:()=>m,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>f});var s={};t.r(s),t.d(s,{GET:()=>d});var a=t(2706),o=t(8203),n=t(5994),i=t(9187),u=t(8789);let p=[{id:"1",date:"2025-03-01",platform:"Amazon",revenue:1245.67,profit:456.78,orders:23,views:456},{id:"2",date:"2025-03-02",platform:"Amazon",revenue:1345.89,profit:498.76,orders:25,views:512},{id:"3",date:"2025-03-03",platform:"eBay",revenue:876.54,profit:321.45,orders:15,views:345},{id:"4",date:"2025-03-04",platform:"Walmart",revenue:654.32,profit:234.56,orders:12,views:278},{id:"5",date:"2025-03-05",platform:"Amazon",revenue:1456.78,profit:534.56,orders:27,views:567},{id:"6",date:"2025-03-06",platform:"Etsy",revenue:543.21,profit:187.65,orders:9,views:198},{id:"7",date:"2025-03-07",platform:"eBay",revenue:987.65,profit:365.43,orders:18,views:387},{id:"8",date:"2025-03-08",platform:"Amazon",revenue:1567.89,profit:587.65,orders:29,views:623},{id:"9",date:"2025-03-09",platform:"Walmart",revenue:765.43,profit:276.54,orders:14,views:312},{id:"10",date:"2025-03-10",platform:"Amazon",revenue:1678.9,profit:623.45,orders:31,views:678}];async function d(e){try{if(!(0,u.ek)(e))return i.NextResponse.json({success:!1,error:"Invalid API key"},{status:401});let{page:r,limit:t}=(0,u.u3)(e),s=new URL(e.url),a=s.searchParams.get("platform"),o=s.searchParams.get("startDate"),n=s.searchParams.get("endDate"),d=[...p];a&&(d=d.filter(e=>e.platform.toLowerCase()===a.toLowerCase())),o&&(d=d.filter(e=>new Date(e.date)>=new Date(o))),n&&(d=d.filter(e=>new Date(e.date)<=new Date(n)));let c=d.length,l=d.slice((r-1)*t,r*t),f=(0,u.H_)(r,t,c);return(0,u.aI)(l,f)}catch(e){return console.error("Error in analytics API:",e),i.NextResponse.json({success:!1,error:"Internal server error"},{status:500})}}let c=new a.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/v1/analytics/route",pathname:"/api/v1/analytics",filename:"route",bundlePath:"app/api/v1/analytics/route"},resolvedPagePath:"/home/ubuntu/sellrogan/src/app/api/v1/analytics/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:l,workUnitAsyncStorage:f,serverHooks:m}=c;function v(){return(0,n.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:f})}},6487:()=>{},8335:()=>{},8789:(e,r,t)=>{"use strict";t.d(r,{H_:()=>u,UA:()=>d,aI:()=>p,ek:()=>n,hS:()=>o,u3:()=>i});var s=t(9187);class a extends Error{constructor(e,r,t=500){super(e),this.type=r,this.statusCode=t,this.name="ApiError"}}function o(e){if(console.error("API Error:",e),e instanceof a)return s.NextResponse.json({success:!1,error:e.message,errorType:e.type},{status:e.statusCode});let r=e instanceof Error?e.message:"An unknown error occurred";return s.NextResponse.json({success:!1,error:r,errorType:"SERVER_ERROR"},{status:500})}function n(e){return(e.headers.get("x-api-key")||"").length>0}function i(e){let r=new URL(e.url),t=parseInt(r.searchParams.get("page")||"1",10),s=parseInt(r.searchParams.get("limit")||"10",10);return{page:isNaN(t)||t<1?1:t,limit:isNaN(s)||s<1||s>100?10:s}}function u(e,r,t){return{page:e,limit:r,total:t,totalPages:Math.ceil(t/r)}}function p(e,r){return s.NextResponse.json({success:!0,data:e,...r?{meta:r}:{}})}function d(e){let r=new URL(e.url),t={};return r.searchParams.forEach((e,r)=>{t[r]=e}),t}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,452],()=>t(525));module.exports=s})();