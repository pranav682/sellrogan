(()=>{var e={};e.id=71,e.ids=[71],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},8603:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>g,routeModule:()=>p,serverHooks:()=>f,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>m});var s={};r.r(s),r.d(s,{GET:()=>l});var a=r(2706),i=r(8203),o=r(5994),n=r(9187),c=r(8789);let u=[{id:"1",title:"Wireless Bluetooth Headphones",price:49.99,platform:"Amazon",status:"active",createdAt:"2025-03-01"},{id:"2",title:"Smart Watch Series 5",price:199.99,platform:"eBay",status:"active",createdAt:"2025-03-02"},{id:"3",title:"Portable Bluetooth Speaker",price:39.99,platform:"Amazon",status:"active",createdAt:"2025-03-03"},{id:"4",title:"Wireless Charging Pad",price:29.99,platform:"Walmart",status:"active",createdAt:"2025-03-04"},{id:"5",title:"Fitness Tracker Band",price:79.99,platform:"Etsy",status:"active",createdAt:"2025-03-05"},{id:"6",title:"Noise Cancelling Earbuds",price:89.99,platform:"Amazon",status:"draft",createdAt:"2025-03-06"},{id:"7",title:"Laptop Stand",price:24.99,platform:"eBay",status:"active",createdAt:"2025-03-07"},{id:"8",title:"Mechanical Keyboard",price:69.99,platform:"Amazon",status:"active",createdAt:"2025-03-08"},{id:"9",title:"Wireless Mouse",price:19.99,platform:"Walmart",status:"active",createdAt:"2025-03-09"},{id:"10",title:"USB-C Hub",price:34.99,platform:"Amazon",status:"active",createdAt:"2025-03-10"}];async function l(e){try{if(!(0,c.ek)(e))return n.NextResponse.json({success:!1,error:"Invalid API key"},{status:401});let{page:t,limit:r}=(0,c.u3)(e),s=new URL(e.url),a=s.searchParams.get("platform"),i=s.searchParams.get("status"),o=s.searchParams.get("search"),l=[...u];if(a&&(l=l.filter(e=>e.platform.toLowerCase()===a.toLowerCase())),i&&(l=l.filter(e=>e.status.toLowerCase()===i.toLowerCase())),o){let e=o.toLowerCase();l=l.filter(t=>t.title.toLowerCase().includes(e))}let p=l.length,d=l.slice((t-1)*r,t*r),m=(0,c.H_)(t,r,p);return(0,c.aI)(d,m)}catch(e){return console.error("Error in listings API:",e),n.NextResponse.json({success:!1,error:"Internal server error"},{status:500})}}let p=new a.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/v1/listings/route",pathname:"/api/v1/listings",filename:"route",bundlePath:"app/api/v1/listings/route"},resolvedPagePath:"/home/ubuntu/sellrogan/src/app/api/v1/listings/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:d,workUnitAsyncStorage:m,serverHooks:f}=p;function g(){return(0,o.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:m})}},6487:()=>{},8335:()=>{},8789:(e,t,r)=>{"use strict";r.d(t,{H_:()=>c,UA:()=>l,aI:()=>u,ek:()=>o,hS:()=>i,u3:()=>n});var s=r(9187);class a extends Error{constructor(e,t,r=500){super(e),this.type=t,this.statusCode=r,this.name="ApiError"}}function i(e){if(console.error("API Error:",e),e instanceof a)return s.NextResponse.json({success:!1,error:e.message,errorType:e.type},{status:e.statusCode});let t=e instanceof Error?e.message:"An unknown error occurred";return s.NextResponse.json({success:!1,error:t,errorType:"SERVER_ERROR"},{status:500})}function o(e){return(e.headers.get("x-api-key")||"").length>0}function n(e){let t=new URL(e.url),r=parseInt(t.searchParams.get("page")||"1",10),s=parseInt(t.searchParams.get("limit")||"10",10);return{page:isNaN(r)||r<1?1:r,limit:isNaN(s)||s<1||s>100?10:s}}function c(e,t,r){return{page:e,limit:t,total:r,totalPages:Math.ceil(r/t)}}function u(e,t){return s.NextResponse.json({success:!0,data:e,...t?{meta:t}:{}})}function l(e){let t=new URL(e.url),r={};return t.searchParams.forEach((e,t)=>{r[t]=e}),r}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,452],()=>r(8603));module.exports=s})();